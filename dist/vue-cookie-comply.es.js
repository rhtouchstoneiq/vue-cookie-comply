import{openBlock as e,createElementBlock as o,normalizeClass as l,renderSlot as i,createElementVNode as a,resolveComponent as c,Fragment as t,renderList as s,toDisplayString as n,createVNode as d,withCtx as r,createTextVNode as p,createBlock as m,Teleport as u,createCommentVNode as k}from"vue";const h={name:"CookieComplyButton",props:{className:{type:String,required:!1,default:""}},emits:["handleClick"],methods:{handleClick(){this.$emit("handleClick")}}};h.render=function(a,c,t,s,n,d){return e(),o("button",{class:l(["cookie-comply__button",t.className]),onClick:c[0]||(c[0]=(...e)=>d.handleClick&&d.handleClick(...e))},[i(a.$slots,"default")],2)};const y={name:"CookieComplySwitch",props:{value:{type:String,required:!0},isRequired:{type:Boolean,default:!1},isDefaultEnable:{type:Boolean,default:!1}},emits:["update:checkbox"],data:()=>({isEnable:!1}),mounted(){(this.isRequired||this.isDefaultEnable)&&(this.isEnable=!0,this.$emit("update:checkbox",{value:this.value,isEnable:!0}))},methods:{onToggle(e){this.isEnable=!this.isEnable,this.$emit("update:checkbox",{value:e,isEnable:this.isEnable})}}},C=["title"],f=["id","value","disabled","checked"];y.render=function(i,c,t,s,n,d){return e(),o("label",{class:"cookie-comply-switch",title:t.isRequired?"is required":t.value},[a("input",{id:t.value,type:"checkbox",value:t.value,disabled:t.isRequired,checked:t.isRequired||t.isDefaultEnable,onInput:c[0]||(c[0]=e=>d.onToggle(e.target.value))},null,40,f),a("span",{class:l(["cookie-comply-slider cookie-comply-round",{"cookie-comply-required":t.isRequired}])},null,2)],8,C)};const b={name:"CookieComplyModal",components:{CookieComplyButton:h,CookieComplySwitch:y},props:{preferences:{type:Array,default:()=>[]}},emits:["cookie-comply-save","cookie-comply-close"],data:()=>({checkedValues:[]}),methods:{handleCheckboxUpdate({value:e,isEnable:o}){o?this.checkedValues.push(e):this.checkedValues.splice(this.checkedValues.indexOf(e),1)},onSaveConfiguration(){this.$emit("cookie-comply-save",this.checkedValues)},onCloseModal(){this.$emit("cookie-comply-close")}}},v={class:"cookie-comply__modal"},g={class:"cookie-comply__modal-middle"},_={class:"cookie-comply__modal-inner"},M={class:"cookie-comply__modal-header"},I=a("h3",null,"Your privacy preferences",-1),w={class:"cookie-comply__modal-content"},S={class:"cookie-comply__modal-footer"},x=p(" Save ");b.render=function(l,p,m,u,k,h){const y=c("cookie-comply-switch"),C=c("cookie-comply-button");return e(),o("div",v,[a("div",g,[a("div",_,[a("img",{alt:"Back arrow",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2cHgiIGZpbGw9IiMwMDAwMDAiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTYiIHdpZHRoPSIxNiIvPjxnPjxwb2x5Z29uIHBvaW50cz0iMTcuNzcsMy43NyAxNiwyIDYsMTIgMTYsMjIgMTcuNzcsMjAuMjMgOS41NCwxMiIvPjwvZz48L3N2Zz4=",class:"cookie-comply__back-arrow",onClick:p[0]||(p[0]=(...e)=>h.onCloseModal&&h.onCloseModal(...e))}),a("header",M,[i(l.$slots,"modal-header",{},(()=>[I]))]),a("main",w,[(e(!0),o(t,null,s(m.preferences,((c,r)=>(e(),o("div",{key:r},[i(l.$slots,"modal-body",{preference:c,index:r},(()=>[a("h2",null,n(c.title),1),a("p",null,n(c.description),1),(e(!0),o(t,null,s(c.items,(l=>(e(),o("div",{key:l.value,class:"cookie-comply__modal-switches"},[a("h3",null,n(l.label),1),d(y,{value:l.value,"is-required":l.isRequired,"is-default-enable":l.isEnable,"onUpdate:checkbox":h.handleCheckboxUpdate},null,8,["value","is-required","is-default-enable","onUpdate:checkbox"])])))),128))]))])))),128))]),a("footer",S,[i(l.$slots,"modal-footer",{},(()=>[d(C,{onHandleClick:h.onSaveConfiguration},{default:r((()=>[x])),_:1},8,["onHandleClick"])]))])])])])};const A={name:"CookieComply",components:{CookieComplyModal:b,CookieComplyButton:h},props:{headerTitle:{type:String,default:"Cookie settings"},headerDescription:{type:String,default:"We use cookies and similar technologies to help personalize content and offer a better experience. You can opt to customize them by clicking the preferences button."},preferencesLabel:{type:String,default:"Preferences"},acceptAllLabel:{type:String,default:"Accept All"},preferences:{type:Array,default:()=>[]},target:{type:String,default:"body"}},emits:["on-accept-all-cookies","on-save-cookie-preferences"],data:()=>({showCookieComply:!0,isModalOpen:!1}),mounted(){localStorage.getItem("cookie-comply")&&(this.showCookieComply=!1)},methods:{handleAcceptAll(){this.showCookieComply=!1,localStorage.setItem("cookie-comply","all"),this.$emit("on-accept-all-cookies")},openPreferences(){this.isModalOpen=!0},onSave(e){this.isModalOpen=!1,this.showCookieComply=!1;const o=Object.values(e);localStorage.setItem("cookie-comply",JSON.stringify(o)),this.$emit("on-save-cookie-preferences",o)}}},H={key:0,class:"cookie-comply"},N={class:"cookie-comply__header"},$={class:"cookie-comply__header-title"},E={class:"cookie-comply__header-description"},Z={class:"cookie-comply__actions"};A.render=function(l,t,s,h,y,C){const f=c("cookie-comply-button"),b=c("cookie-comply-modal");return y.showCookieComply?(e(),o("aside",H,[a("div",N,[i(l.$slots,"header",{},(()=>[a("h3",$,n(s.headerTitle),1),a("p",E,n(s.headerDescription),1)]))]),a("div",Z,[d(f,{onHandleClick:C.openPreferences},{default:r((()=>[p(n(s.preferencesLabel),1)])),_:1},8,["onHandleClick"]),d(f,{"class-name":"cookie-comply__button-accept",onHandleClick:C.handleAcceptAll},{default:r((()=>[p(n(s.acceptAllLabel),1)])),_:1},8,["onHandleClick"])]),(e(),m(u,{to:s.target},[y.isModalOpen?(e(),m(b,{key:0,preferences:s.preferences,onCookieComplySave:C.onSave,onCookieComplyClose:t[0]||(t[0]=e=>y.isModalOpen=!1)},{"modal-header":r((()=>[i(l.$slots,"modal-header")])),"modal-body":r((({preference:e,index:o})=>[i(l.$slots,"modal-body",{preference:e,index:o})])),"modal-footer":r((()=>[i(l.$slots,"modal-footer")])),_:3},8,["preferences","onCookieComplySave"])):k("",!0)],8,["to"]))])):k("",!0)};var q={install:e=>{window&&e.component("VueCookieComply",A)}};export{q as default};
