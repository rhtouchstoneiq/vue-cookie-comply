!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o(require("vue")):"function"==typeof define&&define.amd?define(["vue"],o):(e="undefined"!=typeof globalThis?globalThis:e||self)["vue-cookie-comply"]=o(e.Vue)}(this,(function(e){"use strict";const o={name:"CookieComplyButton",props:{className:{type:String,required:!1,default:""}},emits:["handleClick"],methods:{handleClick(){this.$emit("handleClick")}}};o.render=function(o,l,t,c,i,a){return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(["cookie-comply__button",t.className]),onClick:l[0]||(l[0]=(...e)=>a.handleClick&&a.handleClick(...e))},[e.renderSlot(o.$slots,"default")],2)};const l={name:"CookieComplySwitch",props:{value:{type:String,required:!0},isRequired:{type:Boolean,default:!1},isDefaultEnable:{type:Boolean,default:!1}},emits:["update:checkbox"],data:()=>({isEnable:!1}),mounted(){(this.isRequired||this.isDefaultEnable)&&(this.isEnable=!0,this.$emit("update:checkbox",{value:this.value,isEnable:!0}))},methods:{onToggle(e){this.isEnable=!this.isEnable,this.$emit("update:checkbox",{value:e,isEnable:this.isEnable})}}},t=["title"],c=["id","value","disabled","checked"];l.render=function(o,l,i,a,n,s){return e.openBlock(),e.createElementBlock("label",{class:"cookie-comply-switch",title:i.isRequired?"is required":i.value},[e.createElementVNode("input",{id:i.value,type:"checkbox",value:i.value,disabled:i.isRequired,checked:i.isRequired||i.isDefaultEnable,onInput:l[0]||(l[0]=e=>s.onToggle(e.target.value))},null,40,c),e.createElementVNode("span",{class:e.normalizeClass(["cookie-comply-slider cookie-comply-round",{"cookie-comply-required":i.isRequired}])},null,2)],8,t)};const i={name:"CookieComplyModal",components:{CookieComplyButton:o,CookieComplySwitch:l},props:{preferences:{type:Array,default:()=>[]}},emits:["cookie-comply-save","cookie-comply-close"],data:()=>({checkedValues:[]}),methods:{handleCheckboxUpdate({value:e,isEnable:o}){o?this.checkedValues.push(e):this.checkedValues.splice(this.checkedValues.indexOf(e),1)},onSaveConfiguration(){this.$emit("cookie-comply-save",this.checkedValues)},onCloseModal(){this.$emit("cookie-comply-close")}}},a={class:"cookie-comply__modal"},n={class:"cookie-comply__modal-middle"},s={class:"cookie-comply__modal-inner"},r={class:"cookie-comply__modal-header"},d=e.createElementVNode("h3",null,"Your privacy preferences",-1),p={class:"cookie-comply__modal-content"},m={class:"cookie-comply__modal-footer"},u=e.createTextVNode(" Save ");i.render=function(o,l,t,c,i,k){const h=e.resolveComponent("cookie-comply-switch"),y=e.resolveComponent("cookie-comply-button");return e.openBlock(),e.createElementBlock("div",a,[e.createElementVNode("div",n,[e.createElementVNode("div",s,[e.createElementVNode("img",{alt:"Back arrow",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE2cHgiIGZpbGw9IiMwMDAwMDAiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTYiIHdpZHRoPSIxNiIvPjxnPjxwb2x5Z29uIHBvaW50cz0iMTcuNzcsMy43NyAxNiwyIDYsMTIgMTYsMjIgMTcuNzcsMjAuMjMgOS41NCwxMiIvPjwvZz48L3N2Zz4=",class:"cookie-comply__back-arrow",onClick:l[0]||(l[0]=(...e)=>k.onCloseModal&&k.onCloseModal(...e))}),e.createElementVNode("header",r,[e.renderSlot(o.$slots,"modal-header",{},(()=>[d]))]),e.createElementVNode("main",p,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.preferences,((l,t)=>(e.openBlock(),e.createElementBlock("div",{key:t},[e.renderSlot(o.$slots,"modal-body",{preference:l,index:t},(()=>[e.createElementVNode("h2",null,e.toDisplayString(l.title),1),e.createElementVNode("p",null,e.toDisplayString(l.description),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.items,(o=>(e.openBlock(),e.createElementBlock("div",{key:o.value,class:"cookie-comply__modal-switches"},[e.createElementVNode("h3",null,e.toDisplayString(o.label),1),e.createVNode(h,{value:o.value,"is-required":o.isRequired,"is-default-enable":o.isEnable,"onUpdate:checkbox":k.handleCheckboxUpdate},null,8,["value","is-required","is-default-enable","onUpdate:checkbox"])])))),128))]))])))),128))]),e.createElementVNode("footer",m,[e.renderSlot(o.$slots,"modal-footer",{},(()=>[e.createVNode(y,{onHandleClick:k.onSaveConfiguration},{default:e.withCtx((()=>[u])),_:1},8,["onHandleClick"])]))])])])])};const k={name:"CookieComply",components:{CookieComplyModal:i,CookieComplyButton:o},props:{headerTitle:{type:String,default:"Cookie settings"},headerDescription:{type:String,default:"We use cookies and similar technologies to help personalize content and offer a better experience. You can opt to customize them by clicking the preferences button."},preferencesLabel:{type:String,default:"Preferences"},acceptAllLabel:{type:String,default:"Accept All"},preferences:{type:Array,default:()=>[]},target:{type:String,default:"body"}},emits:["on-accept-all-cookies","on-save-cookie-preferences"],data:()=>({showCookieComply:!0,isModalOpen:!1}),mounted(){localStorage.getItem("cookie-comply")&&(this.showCookieComply=!1)},methods:{handleAcceptAll(){this.showCookieComply=!1,localStorage.setItem("cookie-comply","all"),this.$emit("on-accept-all-cookies")},openPreferences(){this.isModalOpen=!0},onSave(e){this.isModalOpen=!1,this.showCookieComply=!1;const o=Object.values(e);localStorage.setItem("cookie-comply",JSON.stringify(o)),this.$emit("on-save-cookie-preferences",o)}}},h={key:0,class:"cookie-comply"},y={class:"cookie-comply__header"},C={class:"cookie-comply__header-title"},f={class:"cookie-comply__header-description"},b={class:"cookie-comply__actions"};return k.render=function(o,l,t,c,i,a){const n=e.resolveComponent("cookie-comply-button"),s=e.resolveComponent("cookie-comply-modal");return i.showCookieComply?(e.openBlock(),e.createElementBlock("aside",h,[e.createElementVNode("div",y,[e.renderSlot(o.$slots,"header",{},(()=>[e.createElementVNode("h3",C,e.toDisplayString(t.headerTitle),1),e.createElementVNode("p",f,e.toDisplayString(t.headerDescription),1)]))]),e.createElementVNode("div",b,[e.createVNode(n,{onHandleClick:a.openPreferences},{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.preferencesLabel),1)])),_:1},8,["onHandleClick"]),e.createVNode(n,{"class-name":"cookie-comply__button-accept",onHandleClick:a.handleAcceptAll},{default:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.acceptAllLabel),1)])),_:1},8,["onHandleClick"])]),(e.openBlock(),e.createBlock(e.Teleport,{to:t.target},[i.isModalOpen?(e.openBlock(),e.createBlock(s,{key:0,preferences:t.preferences,onCookieComplySave:a.onSave,onCookieComplyClose:l[0]||(l[0]=e=>i.isModalOpen=!1)},{"modal-header":e.withCtx((()=>[e.renderSlot(o.$slots,"modal-header")])),"modal-body":e.withCtx((({preference:l,index:t})=>[e.renderSlot(o.$slots,"modal-body",{preference:l,index:t})])),"modal-footer":e.withCtx((()=>[e.renderSlot(o.$slots,"modal-footer")])),_:3},8,["preferences","onCookieComplySave"])):e.createCommentVNode("",!0)],8,["to"]))])):e.createCommentVNode("",!0)},{install:e=>{window&&e.component("VueCookieComply",k)}}}));
